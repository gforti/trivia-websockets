<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel='stylesheet' href='bulma.css' />
        <link rel='stylesheet' href='font.css' />
        <link rel='stylesheet' href='host.css' />      
    </head>
    <body>
             
        <div class="main-wrapper">
          <div class="tree-container">
            <div class="star"></div>
            <div class="spiral-container">
              <ul class="spiral one">
                <li class="light-wrapper light-wrapper-1">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-2">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-3">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-4">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-5">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-6">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-7">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-8">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-9">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-10">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-11">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-12">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-13">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-14">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-15">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-16">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-17">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-18">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-19">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-20">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-21">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-22">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-23">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-24">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-25">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-26">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-27">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-28">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-29">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-30">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-31">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-32">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-33">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-34">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-35">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-36">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-37">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-38">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-39">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-40">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-41">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-42">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-43">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
              </ul>
              <ul class="spiral two">
                <li class="light-wrapper light-wrapper-1">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-2">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-3">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-4">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-5">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-6">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-7">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-8">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-9">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-10">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-11">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-12">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-13">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-14">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-15">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-16">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-17">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-18">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-19">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-20">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-21">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-22">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-23">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-24">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-25">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-26">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-27">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-28">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-29">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-30">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-31">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-32">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-33">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-34">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-35">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-36">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-37">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-38">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-39">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-40">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-41">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-42">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-43">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
              </ul>
              <ul class="spiral three">
                <li class="light-wrapper light-wrapper-1">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-2">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-3">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-4">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-5">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-6">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-7">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-8">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-9">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-10">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-11">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-12">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-13">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-14">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-15">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-16">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-17">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-18">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-19">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-20">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-21">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-22">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-23">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-24">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-25">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-26">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-27">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-28">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-29">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-30">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-31">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-32">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-33">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-34">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-35">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-36">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-37">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-38">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-39">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-40">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-41">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-42">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
                <li class="light-wrapper light-wrapper-43">
                  <div class="stabilise">
                    <div class="light"></div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="text-container">
            <h2 class="happy is-large">Epic Christmas Trivia</h2>
            <div class="columns">
                <div class="column">
                    <button class="roundtest button is-light is-large">Round Test</button>
                </div>
                <div class="column">
                    <button class="round1 button is-link is-large">Round 1</button>
                </div>
                <div class="column">
                    <button class="round2 button is-success is-large">Round 2</button>
                </div>
                <div class="column">
                    <button class="round3 button is-success is-large">Round 3</button>
                </div>
            </div>
          </div>
        </div>

         <div class="where"><h1></h1></div>
         <div class="players"></div>
         
        <section class="hero is-success is-fullheight is-hidden">
            <div class="hero-head">
                <nav class="level is-mobile">  
                     <div class="level-item has-text-centered">
                        <div>
                            <p class="heading">Location</p>
                            <p class="title where2"></p>
                        </div>
                    </div>
                    <div class="level-item has-text-centered leader"></div>               
                    <div class="level-item has-text-centered points"></div>
                    <div class="level-item has-text-centered">
                        <div>
                            <p class="heading">Question</p>
                            <p class="title remain">?</p>
                        </div>
                    </div>
                </nav>
                                      
                
                <div class="section game-start has-text-centered">
                    <progress class="progress is-large is-info" value="100" max="100"></progress>

                    <div class="question">
                    </div>
                </div>
                
             </div>          
        </section>
        
        
        <script src="/socket.io/socket.io.js"></script>
        
        <script>
                       
            var socket = io();
            let connected = false;
            
            let progress = document.querySelector('progress')
            let questionSong = ''
             
            window.addEventListener('load', ()=> {
                socket.emit('host');
                document.querySelector('.main-wrapper').style.opacity = 1                
            })
            
             document.querySelector('.roundtest').addEventListener('click', ()=>{
                socket.emit('start', {round: 0});
                gameStarting()  
            })
            
            document.querySelector('.round1').addEventListener('click', ()=>{
                socket.emit('start', {round: 1});
                gameStarting()  
            })
            
            document.querySelector('.round2').addEventListener('click', ()=>{
                socket.emit('start', {round: 2});
                gameStarting()  
            })
            
            document.querySelector('.round3').addEventListener('click', ()=>{
                socket.emit('start', {round: 3});
                gameStarting()  
            })
            
            function gameStarting() {
                document.querySelector('.main-wrapper').classList.add('is-hidden')               
                document.querySelector('.where').classList.add('is-hidden')               
                document.querySelector('.players').classList.add('is-hidden')               
                document.querySelector('section.hero').classList.remove('is-hidden')
            }
            
                     
            
            socket.on('winner', function(data){
                stopTrack();
                winnerTrack.play()
                displayWinner(data)
            })
           
             function displayWinner(data) {            
                 winners =  data && data.length > 0 ? data.join(', ') : data && data.length ? data[0] : 'unknown'
                 let randIcon = Math.floor(Math.random() * 24) + 1 
                 document.querySelector('.game-start').innerHTML = `
                 <p class="has-text-centered"><img src="icons/${randIcon}.png" /></p>
                 <div class="txt">
                    <p>Winner</p>
                    <p>${winners}</p>
                </div>   
                `
             }
                 
                        
            socket.on('host-game-info', function (data) {
              connected = true;
              
              document.querySelector('.where h1').innerHTML = data.gameUrl
              document.querySelector('.where2').innerHTML = data.gameUrl
              updateUsers(data)  
              
              if ( data.gameInProgress ) {
                  gameStarting()
              }
                          
            });
            
            socket.on('user joined', function (data) {
                updateUsers(data)                
            });
            
            function updateUsers(data){
               document.querySelector('.players').innerHTML = ` <div>
                            <p class="heading">Players</p>
                            <p class="title">${data.numUsers}</p>
                        </div>` 
            }
            
            socket.on('correct answer', function (data) {
                            
                progress.value = 100;
                updateProgressBar(data)
                displayAnswer(data)
                
              
            });
            
            function updateQuestionsLeft(data){
                document.querySelector('.remain').innerHTML = data.questionsLeft
                
            }
            
            
             socket.on('question', function (data) {             
               
                progress.value = 100;
                updateProgressBar(data)
                displayQuestion(data)
                updateQuestionsLeft(data)
                
            });
            
             socket.on('leader', function (data) {  
                displayLeader(data) 
                updatePoints(data)
            });
            
            
            function displayQuestion(data){
                let html = `<h1 class="title is-1">${data.question}</h1>`
                if ( data.img && data.img.length )
                    html += `<p class="has-text-centered"><img src="img/${data.img}" /></p>`
                if ( data.music && data.music.length ) {
                    stopTrack();
                    questionSong = data.music
                    if( triviaTracks.hasOwnProperty(questionSong))
                        triviaTracks[questionSong].play()
                }
                document.querySelector('.question').innerHTML = html
            }
            
            function displayAnswer(data){
                playTrack()
                if( triviaTracks.hasOwnProperty(questionSong)) {
                        triviaTracks[questionSong].pause();
                        triviaTracks[questionSong].currentTime = 0;
                        questionSong = ''                        
                }
                 
                let html = `<h1 class="title is-1">${data.correctAnswer}</h1>`
                
                if ( data.answerDetails && data.answerDetails.length ) {
                    html += `<h2 class="title is-2">${data.answerDetails}</h2>`
                }
                 
                document.querySelector('.question').innerHTML = html
            }
            
            function displayLeader(data){
                document.querySelector('.leader').innerHTML = `
                        <div>
                            <p class="heading">Leading<br />${data && data.username ? data.username : 'unknown'}</p>
                            <p class="title"><img src="${data && data.icon ? data.icon : 'icons/1.png' }" class="image is-48x48" /> </p>
                        </div> `;
            }
            
            function updatePoints(data) { 
                    document.querySelector('.points').innerHTML = `
                        <div>
                            <p class="heading">Answered Correctly</p>
                            <p class="title">${data && data.points ? data.points : 0}</p>
                        </div> `;
            }
            
            
            
            
            function updateProgressBar(data){
                
                let now = new Date().getTime();
                var pct = Math.floor(100 * (data.endTime - now) / data.totalTime);
                if (pct < 2 || isNaN(pct)) {
                    pct = 0;
                }
                progress.value = pct;                
                if (pct < 20) {
                    progress.classList.remove('is-info')
                    progress.classList.add('is-danger');

                } 
                if (pct < 1) {
                    // if 0 or negative, no need to update again.
                    progress.classList.remove('is-danger')
                    progress.classList.add('is-info');
                    return;
                }
                
            
                setTimeout(updateProgressBar.bind(this, data), 100);
                
            }
            
            
            
        var winnerTrack = new Audio(`tracks/winner.mp3`)
         var tracks = [];
         for (let i = 1; i < 7; i++)
         tracks.push(new Audio(`tracks/epic${i}.mp3`));
         
         tracks.sort(function() {return 0.5 - Math.random()});
         
         var currentTrack = 0;
         var allTracks = x = tracks.length;
         
         while (x--) {
             tracks[x].addEventListener('ended',playNextTrack);
         }
         
         
         function stopTrack() {
             tracks[currentTrack].pause();
         }
         
         function playTrack() {
             tracks[currentTrack].play();
         }
         
         function playNextTrack() {
              currentTrack = (currentTrack + 1) % allTracks;
              playTrack();
         }
         
         
         window.addEventListener('DOMContentLoaded', playTrack);
         
         
        var triviaTracks = {
            'we-wish-you-a-merry-christmas.mp3': new Audio('trivia-songs/we-wish-you-a-merry-christmas.mp3'),
            'angels-we-have-heard.mp3': new Audio('trivia-songs/angels-we-have-heard.mp3'),
            'jingle-bell-piano.mp3': new Audio('trivia-songs/jingle-bell-piano.mp3'),
            'joy-to-the-world.mp3': new Audio('trivia-songs/joy-to-the-world.mp3'),
            'o-christmas-tree.mp3': new Audio('trivia-songs/o-christmas-tree.mp3'),
            'god-rest-ye-merry-gentlemen.mp3': new Audio('trivia-songs/god-rest-ye-merry-gentlemen.mp3'),
            '12-days-funk.mp3': new Audio('trivia-songs/12-days-funk.mp3'),
            'bethlem-jazz.mp3': new Audio('trivia-songs/bethlem-jazz.mp3')
        }
        
            
        </script>
    </body>
</html>
